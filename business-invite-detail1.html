<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title> Business Invite Detail 1 | Plugsity </title>
      <!-- Animate With CSS -->
      <link rel="stylesheet" type="text/css" href="css/animate.css">
      <!-- Phone Number with Country Dropdown -->
      <link rel="stylesheet" href="css/intlTelInput.css"/>
      <!-- Font Awesome KIT -->
      <link href="fontawesome-kit-5/css/all.css" rel="stylesheet">
      <link href="fontawesome-kit-5/css/fontawesome.css" rel="stylesheet">
      <link href="fontawesome-kit-5/css/brands.css" rel="stylesheet">
      <link href="fontawesome-kit-5/css/solid.css" rel="stylesheet">
      <script defer src="fontawesome-kit-5/js/all.js"></script>
      <script defer src="fontawesome-kit-5/js/brands.js"></script>
      <script defer src="fontawesome-kit-5/js/solid.js"></script>
      <script defer src="fontawesome-kit-5/js/fontawesome.js"></script>
      <!-- Bootstrap Grids -->
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom Stylings -->
      <link href="css/custom.css" rel="stylesheet">
      <!-- Jquery Library -->
      <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
   </head>
   <body>
      <div id="preloder">
         <div class="loading"></div>
       </div>
      <!-- Header Starts Here -->
      <header class="header-1 header-2">
         <div class="container">
            <div class="header-row">
               <div class="logo logo-2">
                  <a href=""> <img src="images/logo.svg"> </a> 
               </div>
            </div>
         </div>
      </header>
      <!-- Header Ends Here -->
      <!-- Invite Section Starts Here -->
      <section class="pad-top-100 pad-bot-120 d-none d-sm-block">
         <div class="container">
            <div class="row">
               <div class="col-md-12 col-lg-12 col-sm-12 col-12">
                  <div class="invite-textual m-b-35">
                     <h4 class="col-black1"> Invite business </h4>
                     <p class="col-grey1"> You can invite business by manually entering their details or upload customer details from the excel sheet provided here. </p>
                  </div>
                  <div class="block-element2 m-b-10">
                     <p class="m-b-15"> <a href="business-invite-detail2.html"" class="col-blue1 textual-btn1"> Upload with excel sheet </a>    </p>
                     <p> <a href="" class="col-black1 textual-btn1"> Or add manually </a> </p>
                  </div>
                  <div class="block-element2 m-b-40">
                     <form id="businessInvite">
                        <div class="table-wrapper">
                           <table class="table-1">
                              <thead>
                                 <tr>
                                    <th> Business name </th>
                                    <th> Email ID </th>
                                    <th> Phone number </th>
                                    <th> Website (Optional)</th>

                                    <!-- <th> Address </th>
                                    <th> Social media </th> -->
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr>
                                    <td> 
                                       <input type="text" class="form-field2" placeholder="Enter business name" name="businessName"
                                       id="businessName"> 
                                       <small></small>
                                    </td>
                                    
                                    <td> 
                                       <input type="email" class="form-field2" placeholder="Enter email address" name="email" id="email"> 
                                       <small></small>
                                    
                                    </td>

                                    <td>
                                       <input type="hidden" id="phone2" name="phone"/>
                                       <input type="hidden" id="phoneValid" name="phone" value="false"/>
                                       <input
                                         id="phone"
                                         type="tel"
                                         class="form-field2"
                                         placeholder="Enter phone number"
                                         name="phone"
                                         oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                         maxlength="12"
                                       />
                                       <span id="valid-msg" class="hide">✓ Valid</span>
                                       <span id="error-msg" class="error-phone hide"></span>
                                       <small></small>
                                    </td>
                                    <td> 
                                       <input type="text" class="form-field2" placeholder="Enter website" name="website" id="website"> 
                                       <small></small>
                                    </td>

                                 </tr>

                              </tbody>
                           </table>
                           <table class="table-1">
                              <tbody id="tableData"></tbody>
                            </table>
                        </div>
                     </form>
                  </div>
                  <div class="block-element2">
                     <div class="buttons-holder3">
                        <button class="custom-btn6 standard-btn" style="min-width: 155px;" 
                onclick="handleRedirect()"
                        
                        > Cancel </button>
                        <!-- <button class="custom-btn7 standard-btn" style="min-width: 155px;"> Invite </button> -->
                        <div class="block-element">
                           <!-- <button  class="custom-btn8 mob-full-width standard-btn" style="    min-width: 150px; line-height: 24px;   font-weight: 600;    padding: 9px;"> Join the waitlist </button> -->
         
                           <input
                             type="button"
                             value="Invite"
                             class="custom-btn7 standard-btn"
                             onclick="handleSubmit()"
                             name=""
                             id="btnClick"
                           />
                         </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </section>
      <!-- Invite Section Starts Here -->
      <!-- Mobile Section Only -->
      <section class="pad-top-80 pad-bot-40 d-lg-none d-md-none gradient-sec2">
         <div class="container">
            <div class="block-element3 m-b-25">
               <div class="shop-head">
                  <h3 class="col-black1"> Know a someone who likes to <span class="col-blue1"> Shop? </span> </h3>
                  <p> Tell us their name and contact information so they know you want to shop with them! </p>
               </div>
            </div>
            <div class="block-element3">
               <div class="mobile-form">
                  <form id="businessMobileInvite">
                     <div class="form-field3">
                        <label> Business name </label>
                        <input 
                  id="businessNameMobile"
                        
                        type="text" placeholder="Enter business name" name="" class="field-style3"/>
                <small></small>

                     </div>
                     
                     <div class="form-field3">
                        <label> Business email ID </label>
                        <input
                  id="businessEmailMobile"
                         
                        type="email" placeholder="Enter business email ID" name="" class="field-style3"/>
                <small></small>

                     </div>
                     <div class="form-field3">
<!--                        <label> Business phone number  </label>-->
<!--                        <input -->
<!--                  id="businessMobile"-->

<!--                        id="phone"-->
<!--                         name="phone" -->
<!--                         type="number" -->
<!--                         oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"-->
<!--                        maxlength = "12" -->
<!--                        class="field-style3"/>  -->
<!--                <small></small>-->


                        <label>Business Phone number </label>
                        <input type="hidden" id="phone2" name="phone"/>
                        <input type="hidden" id="phoneValid" name="phone" value="false"/>
                        <input
                          id="businessMobile"
                          name="phone"
                          type="tel"
                          placeholder="Enter Phone Number"
                          class="field-style3"
                          oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                          maxlength="12"
                        />
                        <span id="valid-msgMobile" class="hide">✓ Valid</span>
                        <span id="error-msgMobile" class="error-phone hide"></span>
                        <small></small>




                     </div>

                     <div class="form-field3">
                        <label> Business webiste </label>
                        <input 
                  id="businessWebsiteMobile"
                        
                        type="text" placeholder="Enter business website" name="" class="field-style3"/>
                <small></small>

                     </div>


                     <div class="block-element3">
                        <button class="more-btn1"> <img src="images/plus-icon.svg">  Add another business </button>   
                     </div>
                     <div class="buttons-holder8 m-t-50">
                        <button class="custom-btn6 standard-btn" style="min-width: 0px"
              onclick="handleRedirect()"
                        
                        >
                          Cancel
                        </button>
                        <input
                          onclick="handleMobileSubmit()"
                          type="button"
                          value="Invite"
                          class="custom-btn7 standard-btn"
                          name="mobileClick"
                          id="mobileClick"
                          style="min-width: 0px"
                        />
                      </div>
                  </form>
               </div>
            </div>
         </div>
      </section>

      <!-- Already Registered User Popup Starts Here -->
      <div
              class="modal fade"
              id="modal-2"
              tabindex="-1"
              role="dialog"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
      >
         <div class="modal-dialog" role="document" style="max-width: 490px">
            <div class="modal-content popup-wrapper">
               <div class="popup-head">
                  <!-- <button type="button" class="close close-btn1" data-dismiss="modal" aria-label="Close">
                     <span aria-hidden="true">&times;</span>
                     </button>  -->
                  <!--            <h4 class="col-black1">Email already used for registration</h4>-->
                  <p id="modal-data" class="col-grey1 m-b-25">
                     We have noticed that the email used for registration has been
                     already used and been registered to join the waitlist.
                  </p>
               </div>
               <div class="popup-data">
                  <div class="form-2">
                     <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12 col-12">
                           <div class="buttons-holder2">
                              <button
                                      class="custom-btn10 standard-btn"
                                      data-dismiss="modal"
                                      aria-label="Close"
                              >
                                 Close
                              </button>
                              <a href="consumer.html" class="custom-btn10 standard-btn" role="button" data-bs-toggle="button">Back to Homepage</a>

                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <!-- Already Registered User Popup Ends Here -->
      <!-- Mobile Section Only -->
      <!-- Bootstrap Javascript -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <script src="js/bootstrap.min.js"> </script>
      <script src="js/functions.js"> </script>
      <script src="js/intlTelInput.js"></script>
      <script src="js/businessInvite.js"></script>

      <script>
         const input = document.querySelector("#phone");
         const button = document.querySelector("#btn");
         const errorMsg = document.querySelector("#error-msg");
         const validMsg = document.querySelector("#valid-msg");

         // here, the index maps to the error code returned from getValidationError - see readme
         const errorMap = ["Invalid number", "Invalid country code", "Too short", "Too long", "Invalid number"];
         const iti = window.intlTelInput(input, {
            separateDialCode: true,

            utilsScript: "js/utils.js?1695806485509"
         });

         const reset = () => {
            input.classList.remove("error");
            inputMobile.classList.remove("error");

            errorMsg.innerHTML = "";
            errorMsg.classList.add("hide");
            validMsg.classList.add("hide");
         };

         $('#phone').on('blur',function(){
            reset();
            if (input.value !== '' && input.value.trim()) {
               if (iti.isValidNumber()) {
                  console.log("inisdei2399990")
                  document.getElementById('phoneValid').value = true;
                  const getCode = iti.getSelectedCountryData().dialCode;
                  document.getElementById('phone2').value = getCode;
                  validMsg.classList.remove("hide");
               } else {
                  input.classList.add("error");
                  const errorCode = iti.getValidationError();
                  errorMsg.innerHTML = errorMap[errorCode];
                  document.getElementById('phoneValid').value = false;
                  errorMsg.classList.remove("hide");
               }
            }else{
               input.classList.add("error");
               errorMsg.innerHTML = 'Phone cannot be blank';
               document.getElementById('phoneValid').value = false
               errorMsg.classList.remove("hide");
            }
         });

         // on keyup / change flag: reset
         input.addEventListener('change', reset);
         input.addEventListener('keyup', reset);
      </script>

      <script>
         const inputMobile = document.querySelector("#businessMobile");
         const errorMsgMobile = document.querySelector("#error-msgMobile");
         const validMsgMobile = document.querySelector("#valid-msgMobile");

         // here, the index maps to the error code returned from getValidationError - see readme
         // const errorMap = ["Invalid number", "Invalid country code", "Too short", "Too long", "Invalid number"];
         const itiMobile = window.intlTelInput(inputMobile, {
            separateDialCode: true,
            utilsScript: "js/utils.js?1695806485509"
         });

         const resetMobile = () => {
            inputMobile.classList.remove("error");
            errorMsgMobile.innerHTML = "";
            errorMsgMobile.classList.add("hide");
            validMsgMobile.classList.add("hide");
         };

         $('#businessMobile').on('blur',function(){
            resetMobile();
            if (inputMobile.value !== '' && inputMobile.value.trim()) {
               if (itiMobile.isValidNumber()) {
                  console.log("inisdei2399990")
                  document.getElementById('phoneValid').value = true;
                  const getCode = itiMobile.getSelectedCountryData().dialCode;
                  document.getElementById('phone2').value = getCode;
                  validMsgMobile.classList.remove("hide");
               } else {
                  inputMobile.classList.add("error");
                  const errorCode = itiMobile.getValidationError();
                  errorMsgMobile.innerHTML = errorMap[errorCode];
                  document.getElementById('phoneValid').value = false;
                  errorMsgMobile.classList.remove("hide");
               }
            }else{
               inputMobile.classList.add("error");
               errorMsgMobile.innerHTML = 'Phone cannot be blank';
               document.getElementById('phoneValid').value = false
               errorMsgMobile.classList.remove("hide");
            }
         });

         // on keyup / change flag: reset
         inputMobile.addEventListener('change', reset);
         inputMobile.addEventListener('keyup', reset);
      </script>

   </body>
</html>